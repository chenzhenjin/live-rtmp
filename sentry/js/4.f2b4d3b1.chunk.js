(this["webpackJsonpmarry-live"]=this["webpackJsonpmarry-live"]||[]).push([[4],{52:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/1.21cea89d.jpg"},54:function(e,t,a){e.exports=a.p+"static/media/2.45d26a3f.jpg"},55:function(e,t,a){e.exports=a.p+"static/media/3.cece483f.jpg"},56:function(e,t,a){e.exports=a.p+"static/media/4.244d38f4.jpg"},57:function(e,t,a){e.exports=a.p+"static/media/5.5a93e437.jpg"},58:function(e,t,a){e.exports=a.p+"static/media/6.cb2d583d.jpg"},87:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a(9),i=a(10),l=a(12),c=a(11),s=a(0),o=a.n(s),r=(a(52),a(91)),u=a(88),m=a(53),d=a.n(m),p=a(54),v=a.n(p),f=a(55),h=a.n(f),E=a(56),g=a.n(E),y=a(57),S=a.n(y),N=a(58),R=a.n(N),x=a(59),j=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={testUrl:"https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8",liveUrl:"http://47.100.199.95:8080/hls/app.m3u8",hls:"",fullScreen:!1,showPlayIcon:!1,imgList:[d.a,v.a,h.a,g.a,S.a,R.a],loading:!0},i.videoRef=o.a.createRef(),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getStream(),console.log("componentDidMount",this.videoRef)}},{key:"getStream",value:function(){var e=this;x.isSupported()&&(this.hls=new x,this.hls.loadSource(this.state.liveUrl),this.hls.attachMedia(this.videoRef.current),this.hls.on(x.Events.MANIFEST_PARSED,(function(){console.log("\u52a0\u8f7d\u6210\u529f"),e.videoRef.current.addEventListener("canplaythrough",(function(){console.log("\u52a0\u8f7d\u5b8c\u6210"),e.setState({loading:!1});try{e.videoRef.current.play(),e.videoRef.current.muted=!1}catch(t){console.log("\u6355\u6349\u9519\u8bef\u91cd\u65b0\u52a0\u8f7d"),window.location.reload()}})),e.videoRef.current.addEventListener("play",(function(){e.setState({showPlayIcon:!1})})),e.videoRef.current.addEventListener("pause",(function(){e.setState({showPlayIcon:!0})}))})),this.hls.on(x.Events.ERROR,(function(e,t){console.log("\u52a0\u8f7d\u5931\u8d25")})))}},{key:"changeFullScreen",value:function(){this.setState({fullScreen:!this.state.fullScreen})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"live-main"},o.a.createElement("div",{className:"live-top"},o.a.createElement("marquee",null,"\u6b22\u8fce\u5404\u4f4d\u6765\u5230\u9648\u632f\u9f99--\u8bb8\u601d\u654f\u559c\u4e8b\u73b0\u573a\uff0c\u6b63\u5728\u4e3a\u60a8\u5b9e\u65f6\u76f4\u64ad\u4e2d"),o.a.createElement(r.a,{spinning:this.state.loading},o.a.createElement("p",{className:"live-top-p"},this.state.loading?"\u76f4\u64ad\u8fde\u63a5\u4e2d":"\u89c2\u770b\u4e2d"))),o.a.createElement("div",{className:this.state.fullScreen?"live live-full":"live"},o.a.createElement("div",{className:this.state.fullScreen?"live-rorate":""},o.a.createElement("div",{className:"video-contorl"},this.state.showPlayIcon&&o.a.createElement("div",{className:"video-play",onClick:function(){e.videoRef.current.play()}},o.a.createElement("i",{className:"iconfont iconpause"})),o.a.createElement("div",{className:"video-flexible--div",onClick:function(){e.changeFullScreen()}},this.state.fullScreen?o.a.createElement("i",{className:"iconfont iconsuoxiao"}):o.a.createElement("i",{className:"iconfont iconfangda1"}))),o.a.createElement("video",{className:"live-video",ref:this.videoRef,muted:!0}))),o.a.createElement("div",{className:"photos-tips"},o.a.createElement("p",null,"\u6211\u6765\u7206\u7167\uff0c\u524d\u65b9\u9ad8\u80fd\uff0c\u8bf7\u4e0a\u62c9"),o.a.createElement("p",null,"\u54c8\u54c8\u54c8")),o.a.createElement("div",{className:"live-photos"},o.a.createElement("span",null,"\u70b9\u51fb\u767d\u8272\u7684\u6309\u94ae\uff0c\u53ef\u5207\u6362\u56fe\u7247"),o.a.createElement(u.a,{autoplay:!0},this.state.imgList.map((function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("img",{src:e,alt:"\u751c\u871c\u7167"}))})))),o.a.createElement("div",{className:"waiting-tips"},o.a.createElement("p",null,"\u5404\u4f4d\u4eb2\u670b\u597d\u53cb\u4eec\u597d\uff0c\u7531\u4e8e\u6b64\u6b21\u670d\u52a1\u5668\u5bbd\u5e26\u4f4e\u3001\u548c\u672c\u4eba\u5f00\u53d1\u65f6\u95f4\u548c\u80fd\u529b\u6709\u9650\uff0c \u5ef6\u65f6\u6bd4\u8f83\u4e25\u91cd\uff0c\u5efa\u8bae\u89c2\u770b\u80fd\u8010\u5fc3\u7b49\u5f85\uff0c\u53ef\u80fd\u6709\u65f6\u9700\u8981\u4e00\u5206\u949f"),o.a.createElement("p",null,"\u5982\u679c\u61c2\u5f97\u76f4\u64ad\u6280\u672f\uff0c\u53ef\u4ee5\u8ddf\u6211\u8ba8\u8bba\u4e0b\uff0c\u600e\u4e48\u4f18\u5316\u4e0b\u76f4\u64ad\u5ef6\u8fdf\uff0c \u5bf9\u4e8e\u5176\u4ed6\u529f\u80fd\u4e0d\u5f00\u53d1\uff0c\u6700\u8fd1\u71ac\u591c\u6709\u70b9\u4e25\u91cd")))}}]),a}(o.a.Component)}}]);
//# sourceMappingURL=4.f2b4d3b1.chunk.js.map